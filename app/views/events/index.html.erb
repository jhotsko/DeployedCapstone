<%= javascript_include_tag "sort_table" %>

<head>
  <style>
  </style>
</head>
<div class="container text-left">
  <p id="notice"><%= notice %></p>
  <h2 class="display-4" style="margin-top: 30px;">Events</h2>
  <% if (Cadet.find_by(id: session[:cadet_id]).position != "Cadet") %> 
    <%= link_to 'New Event', new_event_path, :class => "btn btn-secondary btn-success btn-sm"%>
  <%end%>
</div>

<div class="container text-right" style="display: flex; justify-content: flex-end" role="search">
  <%= form_tag events_path, method: :get do %>
    <%= text_field_tag 'term', params[:term], placeholder: "YYYY-MM-DD" %>
    <button class="btn btn-secondary btn-sm" type="submit_tag" >Search</button>
  <% end %>
  <br>
  <br>
</div>


<!--Event Table-->
<table class="table table-striped table-bordered", id = "table">
  <thead class="thead-dark">
    <tr>
      <th scope="col", onclick="sortTable(0)", onMouseOver="this.style.color='yellow'", onMouseOut="this.style.color='#FFF'">Event Date</th>
      <th scope="col", onclick="sortTable(1)", onMouseOver="this.style.color='yellow'", onMouseOut="this.style.color='#FFF'">Primary Type</th>
      <% if (Cadet.find_by(id: session[:cadet_id]).position != "Cadet") %> 
        <th scope="col">Update Event</th>
      <%end%>
    </tr>
  </thead>
  <tbody>
    <% @events.each do |event| %>
      <tr>
        <td><%= link_to "#{event.eventDate}", event %></td>
        <td><%= event.primaryType %></td>
        <% if (Cadet.find_by(id: session[:cadet_id]).position != "Cadet") %> 
          <td><%= link_to 'Edit', edit_event_path(event), :class => "btn btn-secondary btn-info btn-sm" %></td>
        <%end%>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= render "back_to_top" %>