<%= javascript_include_tag "sort_table" %>

<head>
  <style>

  </style>
</head>
<div class="container text-left">
  <p id="notice"><%= notice %></p>
  <h2 class="display-4" style="margin-top: 30px;">Events</h2>
  <%= link_to 'New Event', new_event_path, :class => "btn btn-secondary btn-success btn-sm"%>
</div>

<div class="container text-right" style="display: flex; justify-content: flex-end">
  <%= form_tag events_path, method: :get do %>
    <%= text_field_tag 'term', params[:term], placeholder: "YYYY-MM-DD" %>
    <button class="btn btn-secondary btn-sm" type="submit_tag" >Search</button>
  <% end %>
  <br>
  <br>
</div>


<!--Event Table-->
<table class="table table-striped table-bordered", id = "table">
  <thead class="thead-dark">
    <tr>
      <th scope="col", onclick="sortTable(0)">Event Date</th>
      <th scope="col", onclick="sortTable(1)">Primary Type</th>
      <th scope="col">Update Event</th>
      <th scope="col">Delete Event</th>
    </tr>
  </thead>
  <tbody>
    <% @events.each do |event| %>
      <tr>
        <td><%= link_to "#{event.eventDate}", event %></td>
        <td><%= event.primaryType %></td>
        <td><%= link_to 'Edit', edit_event_path(event), :class => "btn btn-secondary btn-warning btn-sm" %></td>
        <td><%= link_to 'Remove', event, method: :delete, data: { confirm: 'Are you sure?' }, :class => "btn btn-secondary btn-danger btn-sm"  %> </td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<!-- Back to Top Button -->
<button onclick="topFunction()" type="button" class="btn btn-dark">Back to Top</button>
<script>
  function topFunction() {
    document.body.scrollTop = 0; // For Safari
    document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
  }
</script>